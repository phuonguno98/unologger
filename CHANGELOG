# Changelog

Táº¥t cáº£ thay Ä‘á»•i quan trá»ng cá»§a dá»± Ã¡n nÃ y sáº½ Ä‘Æ°á»£c ghi láº¡i trong file nÃ y.

## [1.0.0] - 2025-09-14
### ğŸ‰ Ra máº¯t phiÃªn báº£n Ä‘áº§u tiÃªn (Stable Release)

#### âœ¨ TÃ­nh nÄƒng má»›i
- **Há»‡ thá»‘ng log báº¥t Ä‘á»“ng bá»™** vá»›i channel buffer vÃ  worker xá»­ lÃ½ song song.
- **Há»— trá»£ nhiá»u cáº¥p Ä‘á»™ log**: `DEBUG`, `INFO`, `WARN`, `ERROR`, `FATAL`.
- **Context-first API**:
  - Gáº¯n metadata (`module`, `trace_id`, `flow_id`, `attrs`) vÃ o `context.Context`.
  - Láº¥y logger tá»« context qua `GetLogger`.
- **Masking dá»¯ liá»‡u nháº¡y cáº£m**:
  - Mask báº±ng regex (`RegexRules` / `RegexPatternMap`).
  - Mask theo field JSON (`JSONFieldRules`).
- **Batch processing**: gom nhiá»u log entry thÃ nh batch Ä‘á»ƒ giáº£m I/O.
- **Hook**: chÃ¨n hÃ m xá»­ lÃ½ tÃ¹y chá»‰nh trÆ°á»›c/sau khi ghi log.
- **Rotation**: xoay file log theo dung lÆ°á»£ng hoáº·c thá»i gian.
- **Dynamic config**: thay Ä‘á»•i cáº¥u hÃ¬nh logger khi runtime (min level, masking rules, retry policy, hooks, batch config).
- **OpenTelemetry integration**: tá»± Ä‘á»™ng láº¥y `trace_id` tá»« OTel context náº¿u báº­t `EnableOTEL`.
- **Adapter**:
  - `SimpleLogger` interface (4 cáº¥p Ä‘á»™ cÆ¡ báº£n).
  - `ExtendedLogger` interface (thÃªm `Fatal`).
  - `Adapter` bá»c `LoggerWithCtx` Ä‘á»ƒ triá»ƒn khai cÃ¡c interface nÃ y.
- **API khá»Ÿi táº¡o**:
  - `InitLogger` (cáº¥u hÃ¬nh nhanh).
  - `InitLoggerWithConfig` (cáº¥u hÃ¬nh Ä‘áº§y Ä‘á»§).
  - `NewDetachedLogger` (logger tÃ¡ch biá»‡t).
- **ÄÃ³ng logger an toÃ n**:
  - `Close(timeout)` flush toÃ n bá»™ log, dá»«ng worker, Ä‘Ã³ng writer.
  - In thá»‘ng kÃª lá»—i writer khi shutdown.

#### ğŸ›  Cáº£i tiáº¿n
- TÃ­ch há»£p `compileMaskRegexes` vÃ o luá»“ng khá»Ÿi táº¡o Ä‘á»ƒ tá»± Ä‘á»™ng compile regex tá»« `RegexPatternMap`.
- Gá»i `formatWriterErrorStats` khi Ä‘Ã³ng logger Ä‘á»ƒ hiá»ƒn thá»‹ thá»‘ng kÃª lá»—i writer.
- Bá»• sung kiá»ƒm tra nil writer trong `safeWrite` Ä‘á»ƒ trÃ¡nh panic.
- Tá»± Ä‘á»™ng gÃ¡n `os.Stdout`/`os.Stderr` náº¿u writer chÃ­nh chÆ°a Ä‘Æ°á»£c set.

#### ğŸ“š TÃ i liá»‡u
- Viáº¿t láº¡i `doc.go` vá»›i vÃ­ dá»¥ nÃ¢ng cao bao quÃ¡t toÃ n bá»™ tÃ­nh nÄƒng.
- ThÃªm README.md chi tiáº¿t vá»›i hÆ°á»›ng dáº«n cÃ i Ä‘áº·t, sá»­ dá»¥ng cÆ¡ báº£n vÃ  nÃ¢ng cao.
- Bá»• sung vÃ­ dá»¥ sá»­ dá»¥ng logger qua context trong cÃ¡c hÃ m bÃªn ngoÃ i.

---

[1.0.0]: https://github.com/phuonguno98/unologger/releases/tag/v1.0.0
